<!DOCTYPE html>
<html>
    <head>
        <title>Call recording samples</title>
        <link rel='stylesheet' href='../../assets/styles/styles.css'>
    </head>
    <body>
        <a href="../../index.html"> Back to homepage </a> <br>
        <a href="../../auth/s2s/auth.html"> Authorize again </a> <br> <br>

        <div class="content">
            <section id="call-recs-section">
                <h3>Get call recordings information</h3>
                <div class="text-info">
                    We can get detailed information about the user's call recordings:
                </div>
                <div id="get-call-recs-block" class="call-recs-block">
                    <div id="get-call-recs-form">
                        <div class="input-field">
                            <label>organizationId: </label><input type="text" id="organization-id" value=""/>
                        </div>
                        <div class="input-field">
                            <label>unifiedUserId: </label><input type="text" id="unified-user-id" value="" />  
                        </div>
                        <button id="get-call-recs"> Get call recordings </button>
                        <a class="link-to-guide" 
                            href="https://developer.intermedia.com/api/spec/calling/index.html#get-/voice/v2/organizations/{organizationId}/users/{unifiedUserId}/call-recordings" 
                            target="_blank">Get call recordings guide</a>
                    </div>
                    <table id="recs-table" class="recs-table">
                        <tr class="recs-table-header">
                            <th>ID</th>
                            <th>Caller number</th>
                            <th>Duration</th>
                            <th>When created</th>
                        </tr>
                    </table>
                    <div id="call-recs-navbar">
                        <button id="prev-page-button"></button>
                        <span id="current-page">1</span>
                        <button id="next-page-button"></button>
                    </div>
    
                </div>
                <h3>Get call recordings content</h3>
                <div class="text-info">
                    There are two ways to get call recordings:<br>
                    1. Get call recordings (archive)<br>
                    2. Get call recordings (content)<br>
                </div>
                <div id="get-call-recs-archive-block" class="call-recs-block">
                    <h4>Get call recordings (archive)</h4>
                    <div class="text-info">
                        To get several call recordings in the archive, copy the IDs of the required records from step 2 into the field below, separated by commas: <br> 
                        (then wait for the download link to appear)
                    </div>
                    <input type="text" id="call-rec-id-array" value="" placeholder=""/>
                    <button id="get-call-recs-archive"> Get call recordings (archive) </button>
                    <a class="link-to-guide" 
                        href="https://developer.intermedia.com/api/spec/calling/index.html#post-/voice/v2/organizations/{organizationId}/users/{unifiedUserId}/call-recordings/_selected/_content" 
                        target="_blank">Get call recordings (archive) guide</a>
                </div>
    
                <div id="get-call-recs-content-block" class="call-recs-block">
                    <h4>Get call recordings (content)</h4>
                    <div class="text-info">
                        To get one call recording, copy its ID from step 2 into the field below:<br>
                        (then wait for the download link to appear)
                    </div>
                    <input type="text" id="call-rec-id" value="" />
                    <button id="get-call-recs-content"> Get call recordings (content) </button>
                    <a class="link-to-guide" 
                        href="https://developer.intermedia.com/api/spec/calling/index.html#get-/voice/v2/organizations/{organizationId}/users/{unifiedUserId}/call-recordings/{id}/_content" 
                        target="_blank">Get call recordings (content) guide</a>
    
                </div>
            </section>
        </div>

    </body>
    <script src='../../assets/jwt-decode.js'></script>
    <script src='../../assets/make-request-factory.js'></script>
    <script src='voice-api.js'></script>
    <script src='assets/call-records.js'></script>
</html>
